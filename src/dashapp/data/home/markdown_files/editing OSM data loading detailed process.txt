# Overview

The OSM data loading process can be divided into two process:
1. Reading the Osmium Map and converting it to nodes, ways and bounds(Load Process)
2. Converting the data to Koudou Map (Data Cleansing, Processing, and Reconstruction)

## Load Process (OSMHander)

**File : osm_handler.py**

Load process requires the Osmium library to be installed. In this process, we use Osmium simpleHandler to extract informations from the .osm files.

Information we extracted are:
* nodes **(Dictionary)**
* ways **(Dictionary)**
* bounds **(BoundingBox)**

## Koudou Map

From the osm data, we do several steps:
1. Road data cleansing

Not all Open Street Map data are connected to each other. In this process, we separate the roads into several graph and choose the graph with the highest number of nodes. This usually will indicate the main road which can be used by the agent to travel around the map. The steps are:
* Use ways from the Open street map to build connection to one another (Function : build_node_connections, map_manager.py)
* Separate the road and non road nodes (Function : separate_nodes, map_manager.py)
* Do detection of disconnected roads, this is done by separating the nodes into several connected graph. the graph that have the most connected nodes is likely to be the main road (Function : clean_road, map_manager.py)

2. Calculating building's connection to the road
* Buildings in Open Street Map does not have direct connection to the road. This process consist of generating node in the centroid of the building and then connect it to the road of the building.
3. Retagging the building
* Buildings in Open Street Map usually does not have the type of the buildings. In this step, we assign building types to building that doesn't have any information about it's type.